# Backend Environment Variables (.env)
# Copy this file to .env and fill in your actual values

# ===================================
# Application Configuration
# ===================================
NODE_ENV=development  # Options: development, production
PORT=8000

# ===================================
# CORS Configuration
# ===================================
# Comma-separated list of allowed origins
ALLOWED_ORIGINS=http://localhost:5173,http://localhost:5174

# Production example:
# ALLOWED_ORIGINS=https://yourapp.com,https://www.yourapp.com

# ===================================
# Database Configuration (PostgreSQL)
# ===================================
# Supabase Connection String (with connection pooler)
DATABASE_URL=postgresql+asyncpg://postgres.xxx:PASSWORD@aws-0-region.pooler.supabase.com:5432/postgres

# Database Connection Pool Settings (optional, defaults provided)
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=40
DB_POOL_RECYCLE=3600

# ===================================
# Firebase Admin SDK (Backend)
# ===================================
# Option 1: Use service account file (recommended for development)
FIREBASE_SERVICE_ACCOUNT_PATH=firebase-service-account.json

# Option 2: Use environment variables (recommended for production)
# FIREBASE_PROJECT_ID=your-project-id
# FIREBASE_CLIENT_EMAIL=firebase-adminsdk-xxx@your-project.iam.gserviceaccount.com
# FIREBASE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nYour_Private_Key_Here\n-----END PRIVATE KEY-----\n"

# ===================================
# M-Pesa Configuration
# ===================================
# Get these from Safaricom Developer Portal (Daraja API)
MPESA_CONSUMER_KEY=your_consumer_key_here
MPESA_CONSUMER_SECRET=your_consumer_secret_here
MPESA_PASSKEY=your_passkey_here
MPESA_SHORTCODE=174379  # Sandbox: 174379, Production: Your shortcode
MPESA_ENV=sandbox  # Options: sandbox, production

# M-Pesa Callback URL (MUST be HTTPS in production)
# For development: Use ngrok or similar tunnel service
# For production: Set to your public HTTPS endpoint
CALLBACK_URL=https://your-domain.com/api/callback

# Development example with ngrok:
# CALLBACK_URL=https://xxxx-xxx-xxx-xxx.ngrok-free.app/api/callback

# ===================================
# Production Deployment Checklist
# ===================================
# [ ] Set NODE_ENV=production
# [ ] Update ALLOWED_ORIGINS to production domain(s)
# [ ] Set CALLBACK_URL to production HTTPS endpoint
# [ ] Update MPESA_ENV=production with production credentials
# [ ] Configure Firebase credentials (service account or env vars)
# [ ] Rotate all secrets from .gitignore if exposed
# [ ] Enable database backups
# [ ] Configure monitoring/logging service
